<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": {{ blog.title | json }},
  "itemListElement": [
    {%- for article in blog.articles -%}
      {
        "@type": "ListItem",
        "position": {{ forloop.index }},
        "url": "{{ shop.url }}{{ article.url }}",
        "item": {
          "@type": "BlogPosting",
          "headline": {{ article.title | json }},
          "url": "{{ shop.url }}{{ article.url }}",
          "datePublished": "{{ article.published_at | date: '%Y-%m-%d' }}",
          "dateModified": "{{ article.updated_at | date: '%Y-%m-%d' }}",
          "author": {
            "@type": "Person",
            "name": {{ article.author | json }}
          },
          "publisher": {
            "@type": "Organization",
            "name": {{ shop.name | json }},
            "logo": {
              "@type": "ImageObject",
              "url": {{ shop.logo | json }}
            }
          }
          {%- if article.image -%},
          "image": "{{ article.image.src | img_url: 'master' }}"
          {%- endif -%}
        }
      }{% unless forloop.last %},{% endunless %}
    {%- endfor -%}
  ]
}
</script>